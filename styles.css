/* =====================
   Base & Theme (namespaced)
   ===================== */
:root{--bg:#0f172a; --bg2:#0b1225; --text:#e5e7eb; --muted:#94a3b8; --accent:#22d3ee; --accent2:#a78bfa; --ring:#334155}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:linear-gradient(180deg,var(--bg),#050a19);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Khmer",Arial,sans-serif}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
.wrap{max-width:1100px;margin:0 auto;padding:0 1rem}

/* =====================
   Header (hdr-*)
   ===================== */
.hdr{position:sticky;top:0;background:rgba(10,14,30,.9);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,.06);z-index:20}
.hdr__row{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding:.8rem 0}
.hdr__brand{display:flex;align-items:center;gap:.6rem;font-weight:800;white-space:nowrap}
.hdr__badge{font-size:.75rem;padding:.2rem .5rem;border:1px solid rgba(255,255,255,.08);border-radius:999px;color:var(--muted)}
.hdr__selectWrap{position:relative;display:flex;align-items:center}
.hdr__select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.12);color:var(--text);padding:.52rem 1.9rem .52rem .7rem;border-radius:12px;font-weight:600}
.hdr__selectWrap::after{content:'▾';position:absolute;right:.55rem;top:50%;transform:translateY(-50%);opacity:.7;pointer-events:none}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* =====================
   Hero (hero-*)
   ===================== */
.hero{position:relative;padding:5rem 0 2.5rem;border-bottom:1px solid rgba(255,255,255,.06);z-index:0;}
.hero__bg{position:absolute;inset:-24px -16px -24px -16px;background:linear-gradient(180deg,rgba(2,6,23,.82),rgba(2,6,23,.65)),url('images/hero-kampot.jpg') center/cover no-repeat;border-bottom-left-radius:22px;border-bottom-right-radius:22px;z-index:-1}
.hero__intro{display:flex;align-items:center;gap:.9rem}
.hero__logo{width:112px;height:112px;border-radius:999px;flex:0 0 auto;box-shadow:0 2px 10px rgba(0,0,0,.25)}
.hero h1{font-size:clamp(1.9rem,5vw,3.1rem);margin:0}
.hero__lead{font-size:clamp(1rem,1.8vw,1.15rem);color:#cbd5e1;max-width:70ch;margin:.8rem 0 0}
.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.6rem .9rem;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.02);font-weight:600}
.btn--primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#03131a;border-color:transparent}

/* =====================
   Tours (cards + grid)
   ===================== */
.tours{display:grid;grid-template-columns:1fr;gap:1.1rem}
@media(min-width:840px){.tours{grid-template-columns:repeat(3,1fr)}}
.card{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.015));border:1px solid rgba(255,255,255,.06);border-radius:16px;overflow:hidden}
.card__body{padding:1rem 1.1rem 1.25rem}
.card__title{font-size:1.25rem;font-weight:800;margin:0 0 .5rem}
.card__desc{color:var(--muted);font-size:.98rem}
.inc{margin:.75rem 0 .5rem;padding-left:1rem}
.inc li{margin:.25rem 0;color:#c7cdd8}
.price{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-top:1rem;padding-top:.75rem;border-top:1px dashed var(--ring)}
.price strong{font-size:1.3rem}
.pill{padding:.35rem .6rem;border:1px solid rgba(255,255,255,.08);border-radius:999px;color:var(--muted);font-size:.8rem}

/* =====================
   Carousel (crsl-*)
   ===================== */
.crsl{position:relative;aspect-ratio:16/10;background:#0a132b}
.crsl__track{display:flex;width:100%;height:100%;transition:transform .4s ease}
.crsl__slide{min-width:100%;height:100%;object-fit:cover}
.crsl__btn{position:absolute;top:50%;transform:translateY(-50%);width:38px;height:38px;display:grid;place-items:center;border-radius:999px;border:1px solid rgba(255,255,255,.2);background:rgba(0,0,0,.25);color:#fff;cursor:pointer}
.crsl__btn--prev{left:10px}.crsl__btn--next{right:10px}
.crsl__dots{position:absolute;left:50%;bottom:10px;transform:translateX(-50%);display:flex;gap:6px}
.crsl__dot{width:8px;height:8px;border-radius:999px;border:1px solid rgba(255,255,255,.6);background:transparent}
.crsl__dot[aria-current="true"]{background:#fff}
.crsl__price{position:absolute;top:.6rem;right:.6rem;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#02131a;font-weight:900;padding:.3rem .5rem;border-radius:10px;font-size:.85rem}

/* =====================
   Footer
   ===================== */
footer{margin-top:3rem;padding:2rem 0 3rem;color:var(--muted);border-top:1px solid rgba(255,255,255,.06)}

/* =====================
   FAQ (faq-*)
   ===================== */
.faq{margin-top:3rem;padding:1.25rem 0 2rem}
.faq .faq__list{display:flex;flex-direction:column;gap:1rem}
.faq details{border:1px solid rgba(255,255,255,.1);border-radius:14px;padding:1.1rem 1.2rem;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));box-shadow:0 8px 22px rgba(0,0,0,.18)}
.faq details[open]{box-shadow:0 12px 30px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.12)}
.faq summary{list-style:none;cursor:pointer;display:flex;align-items:center;gap:.6rem;font-weight:800;font-size:1.12rem;padding:.1rem 0}
.faq summary::-webkit-details-marker{display:none}
.faq summary::before{content:'✦';display:inline-grid;place-items:center;width:26px;height:26px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#02131a;font-weight:900}
.faq__content{margin-top:.6rem;color:#cbd5e1;line-height:1.55}

/* =====================
   Floating WhatsApp
   ===================== */
.waFloat{position:fixed; right:16px; bottom:16px; width:56px; height:56px; z-index:60; display:grid; place-items:center; border-radius:14px; box-shadow:0 12px 30px rgba(0,0,0,.35); background:transparent}
.waFloat img{width:100%; height:100%; object-fit:contain}

/* =====================
   Mobile
   ===================== */
@media(max-width:640px){
  .wrap{padding:0 .9rem}
  .hdr{background:var(--bg2);backdrop-filter:none}
  .hdr__row{padding:.7rem 0}
  .hdr__badge{display:none}
  .hero{padding:5.2rem 0 2rem}
  .hero__bg{inset:-14px -12px -14px -12px;border-bottom-left-radius:18px;border-bottom-right-radius:18px}
  .hero__logo{width:72px;height:72px}
  .hero__cta .btn--primary{flex:1 1 100%;justify-content:center}
  .buttons .btn{flex:1 1 100%;justify-content:center}
  #tours{scroll-margin-top:84px}
  .waFloat{ right:12px; bottom:calc(12px + env(safe-area-inset-bottom)); width:64px; height:64px }
}

/* Reduced motion */
@media(prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}

/* ===== Reviews (What travelers say) ===== */
.reviews .section__hd { text-align:center; margin-bottom:1rem; }
.review.card { padding:1rem; color:#fff; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.08); border-radius:14px; margin:0 6px; }
.rev__head { display:flex; gap:.75rem; align-items:center; margin-bottom:.5rem; }
.rev__avatar { width:36px; height:36px; border-radius:999px; display:grid; place-items:center; font-weight:700; background:linear-gradient(135deg,var(--accent),var(--accent2)); color:#02131a; }
.rev__name { font-weight:700; }
.rev__meta { font-size:.85rem; opacity:.85; }
.stars { letter-spacing:.1em; }
.rev__text { font-size:1.05rem; line-height:1.5; margin:.5rem 0 1rem; }
.rev__link { font-size:.9rem; text-decoration:underline; opacity:.9; }
.reviews__cta { text-align:center; margin-top:1rem; }
.reviews .btn { display:inline-block; padding:.6rem 1rem; border-radius:10px; border:1px solid rgba(255,255,255,.2); }
.reviews-crsl .crsl__slide { display:flex; flex-direction:column; justify-content:space-between; }


/* === Reviews carousel compact + overflow fix === */
.reviews.section { margin-top: 0.5rem; }
.reviews .wrap { max-width: 720px; margin-inline: auto; }

/* Override the global carousel sizing for the reviews carousel only */
.reviews-crsl { 
  aspect-ratio: auto;         /* don't force tall 16/10 box */
  background: transparent; 
  overflow: hidden;           /* prevent horizontal scroll */
}

.reviews-crsl .crsl__track {
  height: auto;               /* allow content to define height */
  transition: transform .45s ease; /* keep smooth slide */
}

.reviews-crsl .crsl__slide {
  min-width: 100%;            /* keep JS alignment logic intact */
  height: auto;               /* grow to fit the card */
  display: flex;
  justify-content: center;    /* center the card within the slide */
}

.reviews-crsl .review.card {
  width: 100%;
  max-width: 560px;           /* compact card width */
  padding: .9rem;
}

/* Tighten typography */
.reviews .section__hd { margin-bottom:.4rem; }
.rev__avatar { width:28px; height:28px; font-size:.9rem; }
.rev__name { font-weight:700; font-size:.95rem; }
.rev__meta { font-size:.8rem; opacity:.8; }
.rev__text { font-size:.95rem; line-height:1.4; margin:.35rem 0 .75rem;
  display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
.stars { font-size:.9rem; }
.reviews__cta { margin-top:.5rem; }


.faq summary::after{content:'▾';margin-left:auto;opacity:.85;transition:transform .2s ease}

.faq details[open] summary::after{transform:rotate(180deg)}


/* =====================
   Contact (Book a Tour) emphasis
   ===================== */
.contactCard{
  position: relative;
  padding: 1.4rem 1.25rem 1.4rem !important;
  background: radial-gradient(1200px 400px at 20% -20%, rgba(34,211,238,.15), transparent 50%),
              radial-gradient(1200px 400px at 80% 0%, rgba(167,139,250,.12), transparent 55%),
              linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 16px;
  box-shadow: 0 16px 40px rgba(0,0,0,.28);
  overflow: hidden;
}
.contactCard::before{
  content:"";
  position:absolute;
  inset:0 0 auto 0;
  height:6px;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
}
.contact__hd{
  display:flex;
  align-items:center;
  gap:.8rem;
  margin:.4rem 0 0.6rem;
}
.contact__avatar{
  width:64px;height:64px;border-radius:999px;box-shadow:0 2px 10px rgba(0,0,0,.25);
}
.contact__kicker{
  font-weight:800;
  font-size:1.05rem;
  color:#e6fbff;
}
/* Make the heading a bit larger inside contact */
#contact h2{
  font-size:1.4rem !important;
  margin: 0 0 .3rem !important;
}
/* Buttons: make the first one stand out on mobile */
#contact .buttons .btn:first-child{
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  color: #02131a;
  border-color: transparent;
  font-weight:900;
}


/* =============================
   Carousels (final normalized)
   ============================= */
.crsl{
  position: relative;
  overflow: hidden;
  aspect-ratio: 16/10;
  touch-action: pan-y;
}
@media (max-width: 640px){
  .crsl{ aspect-ratio: 4/3; }
}
.crsl .crsl__track{
  display: flex;
  width: 100%;
  height: 100%;
  transition: transform .45s ease;
  will-change: transform;
}
.crsl .crsl__slide{
  flex: 0 0 100%;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Reviews carousel override */
.crsl.reviews-crsl{
  aspect-ratio: auto;
  height: auto;
  overflow: hidden; /* one review visible */
}
.crsl.reviews-crsl .crsl__track{
  height: auto;
}
.crsl.reviews-crsl .crsl__slide{
  height: auto;
  object-fit: contain;
}

/* =============================
   Floating WhatsApp button
   ============================= */
.float-whatsapp{
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: #25D366;
  box-shadow: 0 2px 6px rgba(0,0,0,.3);
  display: grid;
  place-items: center;
  z-index: 9999;
}
.float-whatsapp img{ width: 28px; height: 28px; }
